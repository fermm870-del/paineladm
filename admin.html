<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <title>Admin - Meus Links</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <!-- CAMINHO CORRIGIDO -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="admin-mode">
    <div class="app-container">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-content">
                <h1>âš™ï¸ Painel Admin</h1>
                <a href="index.html" class="btn-back">
                    <span>â†</span>
                    <span>Voltar</span>
                </a>
            </div>
        </header>

        <!-- Login Section -->
        <section class="login-section" id="loginSection">
            <div class="login-card">
                <div class="login-icon">ğŸ”</div>
                <h2>Acesso Restrito</h2>
                <p>Digite a senha para continuar</p>
                
                <div class="input-group">
                    <input type="password" id="adminPassword" placeholder="Senha" autocomplete="off">
                    <button class="btn-toggle-password" onclick="LinkApp.togglePassword()">ğŸ‘ï¸</button>
                </div>
                
                <button class="btn-primary btn-full" onclick="LinkApp.login()">
                    <span>Entrar</span>
                </button>
                
                <p class="login-hint">Senha padrÃ£o: admin123</p>
            </div>
        </section>

        <!-- Admin Panel -->
        <main class="admin-panel" id="adminPanel" style="display: none;">
            <!-- Stats Cards -->
            <section class="stats-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-value" id="statTotal">0</span>
                        <span class="stat-label">Links</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="statClicks">0</span>
                        <span class="stat-label">Cliques</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-value" id="statTop">-</span>
                        <span class="stat-label">Top Link</span>
                    </div>
                </div>
            </section>

            <!-- Add Link Form -->
            <section class="form-section">
                <h3>â• Novo Link</h3>
                <div class="form-card">
                    <div class="form-row">
                        <input type="text" id="newTitle" placeholder="TÃ­tulo do link" maxlength="50">
                    </div>
                    <div class="form-row">
                        <input type="url" id="newUrl" placeholder="https://exemplo.com">
                    </div>
                    <div class="form-row two-cols">
                        <input type="text" id="newIcon" placeholder="Ãcone (emoji)" maxlength="2" value="ğŸ”—">
                        <input type="color" id="newColor" value="#667eea" title="Cor do link">
                    </div>
                    <div class="form-row">
                        <select id="newCategory">
                            <option value="geral">Geral</option>
                            <option value="projetos">Projetos</option>
                            <option value="ferramentas">Ferramentas</option>
                            <option value="redes">Redes Sociais</option>
                        </select>
                    </div>
                    <button class="btn-primary btn-full" onclick="LinkApp.addLink()">
                        <span>Adicionar Link</span>
                    </button>
                </div>
            </section>

            <!-- Links List -->
            <section class="list-section">
                <h3>ğŸ“‹ Gerenciar Links</h3>
                <div class="admin-links-list" id="adminLinksList">
                    <!-- Lista gerada via JS -->
                </div>
            </section>

            <!-- Data Management -->
            <section class="data-section">
                <h3>ğŸ’¾ Dados</h3>
                <div class="data-actions">
                    <button class="btn-secondary" onclick="LinkApp.exportData()">
                        <span>ğŸ“¥</span>
                        <span>Exportar</span>
                    </button>
                    <button class="btn-secondary" onclick="LinkApp.importData()">
                        <span>ğŸ“¤</span>
                        <span>Importar</span>
                    </button>
                    <button class="btn-danger" onclick="LinkApp.resetData()">
                        <span>ğŸ—‘ï¸</span>
                        <span>Resetar</span>
                    </button>
                </div>
                <input type="file" id="importFile" accept=".json" style="display: none;" onchange="LinkApp.handleImport(this)">
            </section>
        </main>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- CAMINHO CORRIGIDO -->
    <script src="js/app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }

        document.addEventListener('DOMContentLoaded', () => {
            LinkApp.initAdmin();
        });
    </script>
</body>
</html>
